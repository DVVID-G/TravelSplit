@startuml 02-containers
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_WITH_LEGEND()

' Generated by C4 Diagram Generator
' Agent: C4 Diagram Generator
' System: TravelSplit v1.0.0
' Date: 2026-01-15

title TravelSplit - Container Diagram

' Users
Person(creator, "Viajero Administrador", "Usuario que crea viajes y gestiona gastos")
Person(participant, "Viajero Participante", "Usuario invitado a viajes")

' System Boundary
System_Boundary(travelsplit_system, "TravelSplit System") {
    
    ' Frontend Container
    Container(frontend, "Frontend Web App", "React, TypeScript, Vite", "Aplicacion web SPA que proporciona la interfaz de usuario para gestionar viajes y gastos. Usa React Router para navegacion y TanStack Query para estado del servidor.")
    
    ' Backend Container
    Container(backend_api, "Backend API", "NestJS, TypeScript, Node.js 22", "API REST que maneja la logica de negocio, autenticacion JWT, y validaciones. Implementa arquitectura CSED (Controller-Service-Entity-DTO).")
    
    ' Database Container
    ContainerDb(database, "PostgreSQL Database", "PostgreSQL 17", "Base de datos relacional que almacena usuarios, viajes, participantes, y gastos. Soporta soft delete mediante deleted_at.")
}

' External Systems
System_Ext(email_service, "Email Service", "Servicio de notificaciones por email")
System_Ext(file_storage, "File Storage System", "Sistema de almacenamiento de archivos")

' Relationships - Users to Frontend
Rel(creator, frontend, "Usa", "HTTPS")
Rel(participant, frontend, "Usa", "HTTPS")

' Relationships - Frontend to Backend
Rel(frontend, backend_api, "Hace peticiones API", "HTTPS/REST")

' Relationships - Backend to Database
Rel(backend_api, database, "Lee y escribe", "SQL, TypeORM")

' Relationships - Backend to External Systems
Rel(backend_api, email_service, "Envia notificaciones", "SMTP/API")
Rel(backend_api, file_storage, "Almacena y recupera archivos", "File System API / S3 API")

@enduml
